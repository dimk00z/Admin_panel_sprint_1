# Техническое задание

В проекте сейчас находится база данных с архитектурными ошибками.
В большинстве случаев технический долг тормозит развитие проекта и увеличивает его сложность. Избавьтесь от легаси в базе данных.

Для этого нам необходимо исправить ошибки, которые были допущены в схеме, с который вы работали в etl.

Проблемы, которые есть в текущей схеме, и оценка их критичности:

1. Отсутствие ключевых полей `primary key` у таблицы `movie_actors`. У вас не будет возможности искать записи, а также есть вероятность вставить дублирующие данные,
2. Денормализованные`{target="_blank"}` данные в таблице `movies`. Для некоторых практических ситуаций это может быть полезно: меньше join'ов между таблицами. Однако это усложняет обновление данных. Например, если была найдена ошибка в каком-то из популярных жанров,
3. Использование документноориентированной структуры в поле `writers`. Этот подход часто можно встретить в таких БД как MongoDB или Elasticsearch. SQLite — реляционная БД, поэтому предполагает иную работу с данными,
4. Сценаристы `writers` связаны с таблицей фильмов как `ManyToMany`, но без промежуточной таблицы. Это очень усложняет дальнейшую склейку `join` данных, чтобы, например, отправлять их в Elasticsearch.

Ваша задача спроектировать новую схему для работы с данными, с которой будет удобно работать.

# Решение

В соответсвии с заданием описать схему схему базы данных PostgreSQL на [основе данной базы sqlite](https://code.s3.yandex.net/middle-python/learning-materials/db.sqlite) подготовил скпирт [db_schema.sql](https://github.com/dimk00z/Admin_panel_sprint_1/blob/master/schema_design/db_schema.sql).

В искомой базе схеме содержатся:
5 таблиц film_work, genre, person, genre_film_work, person_film_work;
2 индекса genre_film_work, person_film_work
